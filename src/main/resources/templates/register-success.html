<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title></title>
    <link rel="stylesheet" th:href="@{/css/output.css}" />
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <style>
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      @keyframes pulse {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.05);
        }
      }
      @keyframes slideInLeft {
        from {
          opacity: 0;
          transform: translateX(-30px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }
      @keyframes shake {
        0%,
        100% {
          transform: translateX(0);
        }
        10%,
        30%,
        50%,
        70%,
        90% {
          transform: translateX(-5px);
        }
        20%,
        40%,
        60%,
        80% {
          transform: translateX(5px);
        }
      }
      @keyframes confetti-fall {
        0% {
          transform: translateY(-100vh) rotate(0deg);
          opacity: 1;
        }
        100% {
          transform: translateY(100vh) rotate(360deg);
          opacity: 0;
        }
      }
      .animate-fadeIn {
        animation: fadeIn 0.8s ease-out;
      }
      .animate-pulse-success {
        animation: pulse 2s infinite;
      }
      .animate-slideIn {
        animation: slideInLeft 0.6s ease-out;
      }
      .animate-shake {
        animation: shake 0.5s ease-in-out;
      }
      .confetti {
        position: fixed;
        width: 10px;
        height: 10px;
        z-index: 1000;
        animation: confetti-fall 3s linear infinite;
      }
      .gradient-bg {
        background: linear-gradient(135deg, #007a4d 0%, #005c3a 100%);
      }
      .error-gradient {
        background: linear-gradient(135deg, #d32f2f 0%, #b71c1c 100%);
      }
      .card-shadow {
        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1),
          0 10px 10px -5px rgba(0, 0, 0, 0.04);
      }
      @media print {
        .no-print {
          display: none !important;
        }
        .print-only {
          display: block !important;
        }
      }
    </style>
  </head>
  <body class="bg-gradient-to-br from-gray-50 to-gray-100 min-h-screen">
    <!-- Confetti Container (only for success) -->
    <div
      th:if="${success}"
      id="confetti-container"
      class="pointer-events-none"
    ></div>

    <!-- South African Flag Header -->
    <div class="flex h-3 w-full">
      <div class="flex-1 bg-red-600"></div>
      <div class="flex-1 bg-blue-800"></div>
      <div class="flex-1 bg-yellow-400"></div>
      <div class="flex-1 bg-green-600"></div>
      <div class="flex-1 bg-white"></div>
      <div class="flex-1 bg-black"></div>
    </div>

    <!-- Success Content -->
    <div th:if="${success}">
      <!-- Header -->
      <header class="bg-white shadow-lg no-print">
        <div class="container mx-auto px-4 py-6">
          <div class="flex items-center justify-between">
            <div class="flex items-center space-x-4">
              <div
                class="gradient-bg rounded-full w-14 h-14 flex items-center justify-center text-white shadow-lg"
              >
                <i data-lucide="vote" class="w-7 h-7"></i>
              </div>
              <div>
                <h1 class="text-2xl font-bold text-gray-800">Racha Voting</h1>
                <p class="text-sm text-gray-600">This is a demo website</p>
              </div>
            </div>
            <div
              class="hidden md:flex items-center space-x-2 text-sm text-gray-600"
            >
              <i data-lucide="shield-check" class="w-4 h-4"></i>
              <span>Secure Registration System</span>
            </div>
          </div>
        </div>
      </header>

      <!-- Main Content -->
      <main class="container mx-auto px-4 py-8 max-w-4xl">
        <!-- Success Banner -->
        <div
          class="card-shadow bg-white rounded-2xl mb-8 overflow-hidden animate-fadeIn"
        >
          <div class="gradient-bg text-white px-8 py-6">
            <div class="flex items-center justify-center">
              <div class="animate-pulse-success">
                <i data-lucide="check-circle" class="w-12 h-12 mr-4"></i>
              </div>
              <div class="text-center">
                <h2 class="text-3xl font-bold mb-2">
                  Registration Successful!
                </h2>
                <p class="text-green-100">
                  Your voice matters - you're now ready to vote
                </p>
              </div>
            </div>
          </div>

          <!-- Success Message -->
          <div class="p-8">
            <div class="text-center mb-8 animate-slideIn">
              <div
                class="inline-flex items-center justify-center w-20 h-20 bg-green-100 rounded-full mb-4"
              >
                <i
                  data-lucide="user-check"
                  class="w-10 h-10 text-green-600"
                ></i>
              </div>
              <h3 class="text-xl font-semibold text-gray-800 mb-2">
                Welcome to the democratic process!
              </h3>
              <p class="text-gray-600">
                Your voter registration has been successfully processed and
                confirmed.
              </p>
            </div>

            <!-- Registration Details -->
            <div
              class="bg-gradient-to-r from-blue-50 to-green-50 rounded-xl p-6 mb-8 border border-blue-100"
            >
              <div class="flex items-center mb-4">
                <i
                  data-lucide="file-text"
                  class="w-5 h-5 text-blue-600 mr-2"
                ></i>
                <h4 class="text-lg font-bold text-gray-800">
                  Registration successful
                </h4>
              </div>

              <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Left Column -->
                <div class="space-y-4">
                  <div class="bg-white rounded-lg p-4 shadow-sm">
                    <p
                      class="text-xs font-medium text-gray-500 uppercase tracking-wider"
                    >
                      Registration Number
                    </p>
                    <p
                      class="text-lg font-bold text-blue-600"
                      th:text="${voter?.regNo}"
                    >
                      Loading...
                    </p>
                  </div>
                  <div class="bg-white rounded-lg p-4 shadow-sm">
                    <p
                      class="text-xs font-medium text-gray-500 uppercase tracking-wider"
                    >
                      Province
                    </p>
                    <p
                      class="font-semibold text-gray-800"
                      th:text="${voter?.province}"
                    >
                      Loading...
                    </p>
                  </div>
                  <div class="bg-white rounded-lg p-4 shadow-sm">
                    <p
                      class="text-xs font-medium text-gray-500 uppercase tracking-wider"
                    >
                      District
                    </p>
                    <p
                      class="font-semibold text-gray-800"
                      th:text="${voter?.district}"
                    >
                      Loading...
                    </p>
                  </div>
                </div>

                <!-- Right Column -->
                <div class="space-y-4">
                  <div class="bg-white rounded-lg p-4 shadow-sm">
                    <p
                      class="text-xs font-medium text-gray-500 uppercase tracking-wider"
                    >
                      Registration Date
                    </p>
                    <p
                      class="font-semibold text-gray-800"
                      th:text="${voter?.registrationDate}"
                    >
                      Loading...
                    </p>
                  </div>
                  <div class="bg-white rounded-lg p-4 shadow-sm">
                    <p
                      class="text-xs font-medium text-gray-500 uppercase tracking-wider"
                    >
                      Municipality
                    </p>
                    <p
                      class="font-semibold text-gray-800"
                      th:text="${voter?.municipality}"
                    >
                      Loading...
                    </p>
                  </div>
                  <div class="bg-white rounded-lg p-4 shadow-sm">
                    <p
                      class="text-xs font-medium text-gray-500 uppercase tracking-wider"
                    >
                      Town
                    </p>
                    <p
                      class="font-semibold text-gray-800"
                      th:text="${voter?.town}"
                    >
                      Loading...
                    </p>
                  </div>
                </div>
              </div>
            </div>

            <!-- Next Steps -->
            <div class="bg-white rounded-xl border border-gray-200 p-6 mb-8">
              <div class="flex items-center mb-4">
                <i
                  data-lucide="list-checks"
                  class="w-5 h-5 text-green-600 mr-2"
                ></i>
                <h4 class="text-lg font-semibold text-gray-800">
                  What Happens Next?
                </h4>
              </div>

              <div class="space-y-4">
                <div class="flex items-start">
                  <div
                    class="flex-shrink-0 w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-3 mt-0.5"
                  >
                    <span class="text-sm font-semibold text-green-600">1</span>
                  </div>
                  <div>
                    <p class="font-medium text-gray-800">Confirmation Email</p>
                    <p class="text-sm text-gray-600">
                      You'll receive a confirmation email with your registration
                      details within 24 hours.
                    </p>
                  </div>
                </div>

                <div class="flex items-start">
                  <div
                    class="flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-3 mt-0.5"
                  >
                    <span class="text-sm font-semibold text-blue-600">2</span>
                  </div>
                  <div>
                    <p class="font-medium text-gray-800">Stay Informed</p>
                    <p class="text-sm text-gray-600">
                      Follow election updates.
                    </p>
                  </div>
                </div>

                <div class="flex items-start">
                  <div
                    class="flex-shrink-0 w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center mr-3 mt-0.5"
                  >
                    <span class="text-sm font-semibold text-yellow-600">3</span>
                  </div>
                  <div>
                    <p class="font-medium text-gray-800">Election Day</p>
                    <p class="text-sm text-gray-600">
                      Open
                      <a
                        href="/"
                        class="text-blue-600 hover:text-blue-800 no-underline"
                        >Racha voting</a
                      >
                      and follow the procedure to vote!
                    </p>
                  </div>
                </div>
              </div>
            </div>

            <!-- Return Button -->
            <div class="text-center">
              <a
                href="/"
                class="inline-flex items-center px-8 py-3 gradient-bg hover:shadow-lg text-white font-semibold rounded-xl transition-all duration-200 transform hover:scale-105 no-print"
              >
                <i data-lucide="home" class="w-5 h-5 mr-2"></i>
                Return to Homepage
              </a>
            </div>
          </div>
        </div>
      </main>
    </div>

    <!-- Error Content -->
    <div th:unless="${success}">
      <!-- Header -->
      <header class="bg-white shadow-lg">
        <div class="container mx-auto px-4 py-6">
          <div class="flex items-center justify-between">
            <div class="flex items-center space-x-4">
              <div
                class="error-gradient rounded-full w-14 h-14 flex items-center justify-center text-white shadow-lg"
              >
                <i data-lucide="alert-circle" class="w-7 h-7"></i>
              </div>
              <div>
                <h1 class="text-2xl font-bold text-gray-800">Racha Voting</h1>
                <p class="text-sm text-gray-600">This is a demo website</p>
              </div>
            </div>
            <div
              class="hidden md:flex items-center space-x-2 text-sm text-gray-600"
            >
              <i data-lucide="shield-alert" class="w-4 h-4"></i>
              <span>Registration Error</span>
            </div>
          </div>
        </div>
      </header>

      <!-- Main Content -->
      <main class="container mx-auto px-4 py-8 max-w-4xl">
        <!-- Error Banner -->
        <div
          class="card-shadow bg-white rounded-2xl mb-8 overflow-hidden animate-fadeIn"
        >
          <div class="error-gradient text-white px-8 py-6">
            <div class="flex items-center justify-center">
              <div class="animate-shake">
                <i data-lucide="x-circle" class="w-12 h-12 mr-4"></i>
              </div>
              <div class="text-center">
                <h2 class="text-3xl font-bold mb-2">
                  Registration Not Complete
                </h2>
                <p class="text-red-100">
                  We couldn't verify your registration details
                </p>
              </div>
            </div>
          </div>

          <!-- Error Message -->
          <div class="p-8">
            <div class="text-center mb-8">
              <div
                class="inline-flex items-center justify-center w-20 h-20 bg-red-100 rounded-full mb-4"
              >
                <i
                  data-lucide="alert-triangle"
                  class="w-10 h-10 text-red-600"
                ></i>
              </div>
              <h3 class="text-xl font-semibold text-gray-800 mb-2">
                Registration Issue Detected
              </h3>
              <p class="text-gray-600 mb-4">
                There was a problem with your registration attempt or you tried
                to access this page directly.
              </p>
              <div class="bg-red-50 border-l-4 border-red-500 p-4 mb-6">
                <div class="flex">
                  <div class="flex-shrink-0">
                    <i data-lucide="info" class="w-5 h-5 text-red-500"></i>
                  </div>
                  <div class="ml-3">
                    <p class="text-sm text-red-700" th:text="${error}">
                      No valid registration session found. Please complete the
                      registration process first.
                    </p>
                  </div>
                </div>
              </div>
            </div>

            <!-- Solutions -->
            <div class="bg-white rounded-xl border border-gray-200 p-6 mb-8">
              <div class="flex items-center mb-4">
                <i
                  data-lucide="lightbulb"
                  class="w-5 h-5 text-yellow-600 mr-2"
                ></i>
                <h4 class="text-lg font-semibold text-gray-800">
                  What You Can Do Next
                </h4>
              </div>

              <div class="space-y-4">
                <div class="flex items-start">
                  <div
                    class="flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-3 mt-0.5"
                  >
                    <span class="text-sm font-semibold text-blue-600">1</span>
                  </div>
                  <div>
                    <p class="font-medium text-gray-800">
                      Complete Registration
                    </p>
                    <p class="text-sm text-gray-600">
                      If you haven't completed the registration process, please
                      start from the beginning.
                    </p>
                  </div>
                </div>

                <div class="flex items-start">
                  <div
                    class="flex-shrink-0 w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center mr-3 mt-0.5"
                  >
                    <span class="text-sm font-semibold text-purple-600">2</span>
                  </div>
                  <div>
                    <p class="font-medium text-gray-800">Check Your Email</p>
                    <p class="text-sm text-gray-600">
                      If you believe you've already registered, check your email
                      for confirmation.
                    </p>
                  </div>
                </div>

                <div class="flex items-start">
                  <div
                    class="flex-shrink-0 w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-3 mt-0.5"
                  >
                    <span class="text-sm font-semibold text-green-600">3</span>
                  </div>
                  <div>
                    <p class="font-medium text-gray-800">Contact Support</p>
                    <p class="text-sm text-gray-600">
                      If you need assistance, our support team is ready to help.
                    </p>
                  </div>
                </div>
              </div>
            </div>

            <!-- Action Buttons -->
            <div class="flex flex-col sm:flex-row justify-center gap-4">
              <a
                href="/vote/register"
                class="inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
              >
                <i data-lucide="edit" class="w-5 h-5 mr-2"></i>
                Start Registration
              </a>
              <a
                href="/contact"
                class="inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-blue-700 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
              >
                <i data-lucide="mail" class="w-5 h-5 mr-2"></i>
                Contact Support
              </a>
              <a
                href="/"
                class="inline-flex items-center justify-center px-6 py-3 border border-gray-300 text-base font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
              >
                <i data-lucide="home" class="w-5 h-5 mr-2"></i>
                Return Home
              </a>
            </div>
          </div>
        </div>
      </main>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8">
      <div class="container mx-auto px-4 text-center">
        <p class="text-gray-400 text-sm">
          © 2025 Racha Voting. All rights reserved. |
          <a href="#" class="hover:text-white transition-colors"
            >Privacy Policy</a
          >
          |
          <a href="#" class="hover:text-white transition-colors"
            >Terms of Service</a
          >
        </p>
      </div>
    </footer>

    <script>
      // Initialize Lucide icons
      lucide.createIcons();

      // Only run confetti animation for success page
      document.addEventListener("DOMContentLoaded", function () {
        const successPage = document.querySelector('div[th\\:if="${success}"]');
        if (successPage) {
          // Create confetti effect
          function createConfetti() {
            const colors = [
              "#E03C31",
              "#0032A0",
              "#FFB81C",
              "#007A4D",
              "#000000",
            ];
            const container = document.getElementById("confetti-container");

            for (let i = 0; i < 100; i++) {
              setTimeout(() => {
                const confetti = document.createElement("div");
                confetti.className = "confetti";
                confetti.style.left = Math.random() * 100 + "vw";
                confetti.style.backgroundColor =
                  colors[Math.floor(Math.random() * colors.length)];
                confetti.style.animationDelay = Math.random() * 2 + "s";
                confetti.style.animationDuration = Math.random() * 2 + 3 + "s";
                container.appendChild(confetti);

                setTimeout(() => confetti.remove(), 5000);
              }, i * 50);
            }
          }

          createConfetti();
        }
      });
    </script>
  </body>
</html>
